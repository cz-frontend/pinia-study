import{_ as S,o as p,c as g,p as A,a as D,b as h,r as f,d as a,F as k,e as N,f as O,g as F,h as x,w as n,i as v,t as w,j as H,k as C,l as E,u as b,E as M,s as R,m as U}from"./index.0e70af05.js";const q={},$=e=>(A("data-v-59b33861"),e=e(),D(),e),j={class:"app-header"},z=$(()=>h("div",{class:"left-box"},[h("div",{class:"logo"},"\u9524\u5B50\u524D\u7AEF")],-1)),G=$(()=>h("div",{class:"right-box"},"\u6B22\u8FCE\u60A8\uFF0C\u8D85\u7EA7\u7BA1\u7406\u5458!",-1)),J=[z,G];function K(e,s){return p(),g("header",j,J)}const P=S(q,[["render",K],["__scopeId","data-v-59b33861"]]);const Q={class:"app-container"},W={key:0,class:"operation-bar"},X={__name:"AppLayout",props:{operationConf:{type:Array,default:()=>[]}},emits:["click-operation"],setup(e,{emit:s}){const c=t=>{s("click-operation",t)};return(t,i)=>{const o=f("el-button");return p(),g(k,null,[a(P),h("main",null,[h("div",Q,[e.operationConf.length?(p(),g("div",W,[(p(!0),g(k,null,N(e.operationConf,l=>(p(),x(o,{key:l.id,type:l.operationBtnType,disabled:l.disabled,onClick:r=>c(l)},{default:n(()=>[v(w(l.operationText),1)]),_:2},1032,["type","disabled","onClick"]))),128))])):O("",!0),F(t.$slots,"content",{},void 0,!0)])])],64)}}},Y=S(X,[["__scopeId","data-v-4f5e5a09"]]),Z=[{id:1,disabled:!1,operationText:"\u65B0\u589E",operationType:"added",operationBtnType:"primary"},{id:2,disabled:!0,operationText:"\u6279\u91CF\u5220\u9664",operationType:"delete",operationBtnType:"danger"}],ee={title:[{required:!0,message:"\u8BF7\u5929\u874E\u901A\u77E5\u4E3B\u9898",trigger:"blur"}],desc:[{required:!0,message:"\u8BF7\u5929\u874E\u901A\u77E5\u63CF\u8FF0",trigger:"blur"}]},I=H("noticeManage",{state:()=>({list:[],totalCount:0}),actions:{addedList(e){return this.list=[e,...this.list]},deleteList(e){return this.list=this.list.splice(1,e)}},getters:{getNoticeTotal(){return this.totalCount=this.list.length},getListData:e=>e.list}}),te={__name:"index",props:{width:{type:String,default:"500px"},isDraggable:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},isCenter:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:"\u53D6 \u6D88"},isShowIcon:{type:Boolean,default:!1},confirmText:{type:String,default:"\u786E\u5B9A"},displayModal:{type:Boolean,default:!1},isClickCloseModal:{type:Boolean,default:!1},isEscClickCloseModal:{type:Boolean,default:!1}},emits:["cancel","confirm"],setup(e,{emit:s}){const c=()=>{s("cancel")},t=()=>{s("confirm")};return(i,o)=>{const l=f("el-button"),r=f("el-dialog");return p(),x(r,{title:e.title,width:e.width,center:e.isCenter,"show-close":e.isShowIcon,draggable:e.isDraggable,fullscreen:e.isFullscreen,modelValue:e.displayModal,"close-on-click-modal":e.isClickCloseModal,"close-on-press-escape":e.isEscClickCloseModal},{footer:n(()=>[a(l,{onClick:c},{default:n(()=>[v(w(e.cancelText),1)]),_:1}),a(l,{type:"primary",onClick:t},{default:n(()=>[v(w(e.confirmText),1)]),_:1})]),default:n(()=>[F(i.$slots,"default")]),_:3},8,["title","width","center","show-close","draggable","fullscreen","modelValue","close-on-click-modal","close-on-press-escape"])}}},oe={__name:"operation-model",emits:["refresh"],setup(e,{expose:s,emit:c}){const t=C(!1),i=C({title:"",type:""}),o=E({title:"",desc:""}),l=m=>{i.value=m,t.value=!0,o.value=m.record},r=C(null),u=I(),_=async m=>{!m||await m.validate(d=>{d&&i.value.type==="added"&&(u.addedList({id:new Date().getTime(),...o}),r.value.resetFields(),c("refresh"),M({type:"success",duration:800,message:"\u64CD\u4F5C\u6210\u529F",onClose:()=>{t.value=!1}}))})},T=()=>{t.value=!1};return s({dataFormInit:l}),(m,d)=>{const V=f("el-input"),B=f("el-form-item"),L=f("el-form");return p(),x(b(te),{title:i.value.title,modelValue:t.value,"onUpdate:modelValue":d[2]||(d[2]=y=>t.value=y),onCancel:T,onConfirm:d[3]||(d[3]=y=>_(r.value))},{default:n(()=>[a(L,{ref_key:"refForm",ref:r,model:o,rules:b(ee),"label-width":"88px"},{default:n(()=>[a(B,{label:"\u901A\u77E5\u4E3B\u9898",prop:"title"},{default:n(()=>[a(V,{modelValue:o.title,"onUpdate:modelValue":d[0]||(d[0]=y=>o.title=y),maxlength:"8"},null,8,["modelValue"])]),_:1}),a(B,{label:"\u901A\u77E5\u5185\u5BB9",prop:"desc"},{default:n(()=>[a(V,{type:"textarea",maxlength:"30",modelValue:o.desc,"onUpdate:modelValue":d[1]||(d[1]=y=>o.desc=y),autosize:{minRows:3,maxRows:6}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])}}},ae={__name:"TableView",props:{dataSource:{type:Array,default:()=>[]}},emits:["delete"],setup(e,{emit:s}){const c=(t,i)=>{s("delete",t,i),M.success("\u64CD\u4F5C\u6210\u529F")};return(t,i)=>{const o=f("el-table-column"),l=f("el-button"),r=f("el-table");return p(),x(r,{data:e.dataSource,"empty-text":"\u6682\u65E0\u6570\u636E"},{default:n(()=>[a(o,{prop:"title",label:"\u4E3B\u9898"}),a(o,{prop:"desc",label:"\u901A\u77E5\u63CF\u8FF0"}),a(o,{label:"\u64CD\u4F5C",fixed:"right",width:"120px"},{default:n(({row:u,$index:_})=>[a(l,{type:"danger",plain:"",onClick:T=>c(u,_)},{default:n(()=>[v("\u5220\u9664")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])}}},ne={__name:"index",setup(e){const s=I(),{list:c}=R(s);U(()=>{t()});const t=()=>{},i=u=>{u.operationType==="added"?l({type:"added",title:"\u65B0\u589E\u901A\u77E5",record:{}}):r()},o=C(),l=u=>{o.value.dataFormInit(u)},r=(u,_)=>{s.deleteList(_)};return(u,_)=>(p(),g(k,null,[a(b(Y),{"operation-conf":b(Z),onClickOperation:i},{operation:n(()=>[]),content:n(()=>[a(ae,{"data-source":b(c),onDelete:r},null,8,["data-source"])]),_:1},8,["operation-conf"]),a(oe,{ref_key:"refOperation",ref:o,onRefresh:t},null,512)],64))}};export{ne as default};
